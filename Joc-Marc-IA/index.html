<!DOCTYPE html>
<html lang="ca">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <title>Joc Marcs d'Ús de la IA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#005A9C', // Deep Blue
              primary_dark: '#004C80', // Darker primary
              secondary: '#FFC107', // Warm Yellow
              accent: '#4CAF50', // Green for success
              accent_dark: '#388E3C', // Darker Accent
              danger: '#F44336', // Red for errors
              danger_dark: '#D32F2F', // Darker Danger
              lightgray: '#F3F4F6', // Background
              mediumgray: '#D1D5DB', // Borders, disabled states
              darkgray: '#4B5563', // Text
              white: '#FFFFFF',
              // AI Level specific colors
              level_0: '#E0E0E0', // Light Neutral Gray
              level_1: '#90CAF9', // Light Blue
              level_2: '#A5D6A7', // Light Green
              level_3: '#FFCC80', // Light Orange
              level_4: '#CE93D8', // Light Purple
              level_5: '#EF9A9A', // Light Red
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              slideInUp: {
                '0%': { transform: 'translateY(20px)', opacity: '0' },
                '100%': { transform: 'translateY(0)', opacity: '1' },
              },
              pulseEmphasis: {
                '0%, 100%': { transform: 'scale(1)' },
                '50%': { transform: 'scale(1.03)' },
              },
              fadeInDown: {
                '0%': { opacity: '0', transform: 'translateY(-20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
            },
            animation: {
              fadeIn: 'fadeIn 0.7s ease-out',
              slideInUp: 'slideInUp 0.7s ease-out',
              pulseEmphasis: 'pulseEmphasis 1.5s infinite ease-in-out',
              fadeInDown: 'fadeInDown 0.5s ease-out forwards',
            },
            boxShadow: {
              'subtle': '0 2px 4px rgba(0,0,0,0.05)',
              'medium': '0 4px 6px rgba(0,0,0,0.1)',
              'strong': '0 10px 15px rgba(0,0,0,0.1), 0 4px 6px rgba(0,0,0,0.05)',
              'interactive': '0 0 0 3px rgba(0, 90, 156, 0.3)',
            }
          }
        }
      }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Inter', sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        margin: 0; /* Ensure no default margin */
      }
      .custom-scrollbar::-webkit-scrollbar {
        width: 10px;
        height: 10px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(0,0,0,0.05);
        border-radius: 10px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #005A9C; /* Primary color */
        border-radius: 10px;
        border: 2px solid #F3F4F6; /* lightgray to create padding */
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #004C80; /* Darker primary */
      }
      /* For Firefox */
      .custom-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: #005A9C #F3F4F6;
      }

      .ai-level-card-icon {
        font-size: 1.5rem; /* 24px */
        line-height: 2rem; /* 32px */
        width: 2.5rem; /* 40px */
        height: 2.5rem; /* 40px */
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 0.375rem; /* rounded-md */
      }
      .hidden-screen {
        display: none !important;
      }
      .interactive-brain-icon {
        display: inline-block; /* Essential for transforms */
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), filter 0.4s ease-out;
        will-change: transform, filter; /* Performance hint for smoother animations */
      }
      .interactive-brain-icon:hover,
      .interactive-brain-icon:focus { /* Added :focus for potential accessibility scenarios */
        transform: scale(1.15) rotate(-8deg);
        filter: brightness(1.2); /* Makes the icon slightly brighter */
      }
    </style>
  <link rel="stylesheet" href="/index.css">
</head>
  <body class="bg-lightgray text-darkgray">
    <div id="app-container">
      <!-- Welcome Screen -->
      <div id="welcome-screen" class="min-h-screen flex flex-col items-center justify-between p-4 sm:p-6 text-center animate-fadeIn bg-gradient-to-tr from-primary_dark via-primary to-blue-700 text-white relative overflow-hidden">
        <div class="absolute top-0 left-0 w-72 h-72 bg-blue-500 opacity-20 rounded-full filter blur-3xl animate-pulseEmphasis" style="animation-delay: 1s"></div>
        <div class="absolute bottom-0 right-0 w-60 h-60 bg-secondary opacity-20 rounded-full filter blur-3xl animate-pulseEmphasis" style="animation-delay: 2s"></div>
        <header class="mt-12 sm:mt-16 mb-8 z-10 animate-slideInUp" style="animation-delay: 0.2s">
          <div class="mb-8 text-7xl sm:text-8xl text-secondary drop-shadow-lg">
            <i class="fas fa-brain interactive-brain-icon"></i>
          </div>
          <h1 id="app-title-welcome" class="text-4xl sm:text-5xl md:text-6xl font-extrabold mb-5 tracking-tight text-shadow-md">
            <!-- App Title Loaded by JS -->
          </h1>
          <p class="text-lg sm:text-xl max-w-2xl mx-auto text-blue-100 mb-3">
            Benvingut/da! Posa a prova la teva comprensió sobre com s'integra la Intel·ligència Artificial en diferents contextos.
          </p>
          <p class="text-md sm:text-lg mt-2 max-w-xl mx-auto text-blue-200">
            Analitza cada situació i selecciona el nivell d'ús de la IA corresponent. Els marcs d'ús es mostraran durant el joc per a la teva consulta.
          </p>
        </header>
        <main class="z-10 animate-slideInUp" style="animation-delay: 0.4s">
          <button id="start-game-button" class="bg-accent hover:bg-accent_dark text-white font-bold py-4 sm:py-5 px-10 sm:px-12 rounded-xl text-xl sm:text-2xl shadow-strong transform hover:scale-110 active:scale-100 transition-all duration-300 ease-in-out focus:outline-none focus:ring-4 focus:ring-green-400 focus:ring-opacity-50 animate-pulseEmphasis" style="animation-duration: 2.5s" aria-label="Comença el repte!">
            <i class="fas fa-play mr-3 text-xl"></i>Comença el repte!
          </button>
        </main>
        <footer class="w-full text-center py-6 sm:py-8 mt-10 text-xs sm:text-sm text-blue-300 z-10 animate-slideInUp" style="animation-delay: 0.6s">
          <p>© Aplicació dissenyada per Felip Sarroca</p>
          <p>a partir del treball realitzat per Juan José de Haro.</p>
        </footer>
      </div>

      <!-- Game Screen -->
      <div id="game-screen" class="min-h-screen md:flex bg-lightgray hidden-screen">
        <aside id="ai-levels-sidebar" class="w-full md:w-1/3 lg:w-1/4 bg-primary text-white p-4 md:p-5 sticky top-0 h-auto md:h-screen md:overflow-y-auto custom-scrollbar shadow-strong">
          <h2 class="text-2xl lg:text-3xl font-bold mb-6 text-center text-secondary">
            <i class="fas fa-clipboard-list mr-2"></i>Marcs d'ús de la IA
          </h2>
          <div id="ai-levels-container" class="space-y-3">
            <!-- AI Levels will be populated by JS -->
          </div>
        </aside>
        <main class="w-full md:w-2/3 lg:w-3/4 p-4 sm:p-6 md:p-8 overflow-y-auto">
          <div id="scoreboard-container" class="bg-white p-4 sm:p-5 rounded-xl shadow-medium mb-6 animate-fadeInDown">
            <h2 class="text-xl font-semibold mb-4 text-primary text-center">Progrés del joc</h2>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 text-center">
              <div class="p-3 bg-blue-50 rounded-lg border border-blue-200">
                <div id="answered-questions-display" class="text-2xl sm:text-3xl font-bold text-primary mb-1">
                  <i class="fas fa-list-ol mr-2"></i>0 / 0
                </div>
                <span class="text-base font-medium text-blue-600">Preguntes</span>
              </div>
              <div class="p-3 bg-green-50 rounded-lg border border-green-200">
                <div id="correct-answers-display" class="text-2xl sm:text-3xl font-bold text-accent mb-1">
                  <i class="fas fa-check-circle mr-2"></i>0
                </div>
                <span class="text-base font-medium text-green-600">Encerts</span>
              </div>
              <div class="p-3 bg-red-50 rounded-lg border border-red-200">
                <div id="incorrect-answers-display" class="text-2xl sm:text-3xl font-bold text-danger mb-1">
                  <i class="fas fa-times-circle mr-2"></i>0
                </div>
                <span class="text-base font-medium text-red-600">Errors</span>
              </div>
            </div>
          </div>
          <div id="question-area" class="bg-white p-5 sm:p-6 md:p-8 rounded-xl shadow-strong animate-slideInUp">
            <h3 id="question-counter-display" class="text-md font-semibold text-primary mb-1">
              <i class="fas fa-question-circle mr-1"></i> Pregunta 0 <span class="text-gray-500">de 0</span>
            </h3>
            <p id="question-scenario-display" class="text-xl md:text-2xl font-medium text-darkgray mb-6 min-h-[100px] leading-relaxed"></p>
            <div class="mb-6">
              <p class="text-lg font-semibold text-gray-700 mb-4">Quin nivell d'ús de la IA representa aquesta situació?</p>
              <div id="answer-options-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2.5 sm:gap-3">
                <!-- Answer buttons will be populated by JS -->
              </div>
            </div>
            <div id="feedback-message-container" class="hidden-screen">
              <!-- Feedback message will be populated by JS -->
            </div>
            <div id="next-question-button-container" class="mt-8 text-center animate-fadeIn hidden-screen" style="animation-delay:0.2s">
              <button id="next-question-button" class="bg-secondary hover:bg-yellow-500 text-primary_dark font-bold py-3 px-8 rounded-lg text-xl shadow-medium transform hover:scale-105 active:scale-95 transition-all duration-200 ease-in-out focus:outline-none focus:ring-4 focus:ring-yellow-300">
                Següent Pregunta <i class="fas fa-arrow-right ml-2"></i>
              </button>
            </div>
          </div>
        </main>
      </div>

      <!-- End Screen -->
      <div id="end-screen" class="min-h-screen flex flex-col items-center justify-center p-4 text-center animate-fadeIn bg-gradient-to-br from-primary via-blue-700 to-blue-900 text-white hidden-screen">
        <header class="mb-8 animate-slideInUp" style="animation-delay: 0.1s">
          <div id="end-screen-icon-container" class="mb-6 text-6xl">
            <!-- Icon will be populated by JS -->
          </div>
          <h1 class="text-4xl sm:text-5xl font-extrabold mb-3 tracking-tight">Joc acabat!</h1>
          <p class="text-lg text-blue-200">Aquí tens els teus resultats:</p>
        </header>
        <main class="bg-white text-darkgray p-6 sm:p-8 rounded-xl shadow-strong max-w-lg w-full animate-slideInUp" style="animation-delay: 0.3s">
          <h2 class="text-3xl font-semibold mb-6 text-primary">Resum Final</h2>
          <div class="mb-6 space-y-3">
            <div class="flex justify-between items-center p-4 bg-green-50 rounded-lg border border-green-200">
              <span class="font-medium text-green-700"><i class="fas fa-check-circle mr-2"></i>Encerts:</span>
              <span id="final-correct-display" class="text-2xl font-bold text-accent">0 / 0</span>
            </div>
            <div class="flex justify-between items-center p-4 bg-red-50 rounded-lg border border-red-200">
              <span class="font-medium text-red-700"><i class="fas fa-times-circle mr-2"></i>Errors:</span>
              <span id="final-incorrect-display" class="text-2xl font-bold text-danger">0 / 0</span>
            </div>
            <div class="flex justify-between items-center p-4 bg-blue-50 rounded-lg border border-blue-200">
              <span class="font-medium text-blue-700"><i class="fas fa-percentage mr-2"></i>Puntuació:</span>
              <span id="final-percentage-display" class="text-2xl font-bold text-primary">0%</span>
            </div>
          </div>
          <p id="final-message-display" class="text-lg font-semibold my-6 p-4 rounded-lg border-l-4">
            <!-- Final message will be populated by JS -->
          </p>
          <button id="restart-game-button" class="bg-accent hover:bg-accent_dark text-white font-bold py-3.5 px-8 rounded-lg text-xl shadow-medium transform hover:scale-105 active:scale-95 transition-all duration-200 ease-in-out w-full focus:outline-none focus:ring-4 focus:ring-green-300" aria-label="Torna a jugar">
            <i class="fas fa-redo mr-2"></i>Torna a jugar
          </button>
        </main>
        <footer class="mt-12 text-sm text-blue-300 animate-fadeIn" style="animation-delay: 0.5s">
          <p>Gràcies per jugar i aprendre sobre els marcs d'ús de la IA!</p>
        </footer>
      </div>

       <!-- Fallback for loading or unexpected state -->
      <div id="loading-screen" class="min-h-screen flex flex-col items-center justify-center text-xl bg-lightgray text-primary hidden-screen">
        <i class="fas fa-spinner fa-spin text-4xl mb-4"></i>
        Carregant el joc educatiu...
      </div>
    </div>
    <script src="script.js"></script>
  <script type="module" src="/index.tsx"></script>
</body>
</html>
