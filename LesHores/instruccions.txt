## Visi√≥ general de l'aplicaci√≥

Una app (HTML + CSS + JavaScript) per **aprendre a llegir i expressar l'hora** amb **nivells progressius**, **gamificaci√≥** (ins√≠gnies/medalles), **perfil de jugador** (nom + progr√©s guardat) i **disseny responsive** (m√≤bil vertical / ordinador horitzontal) perqu√® **tot c√†piga en una sola pantalla**.

La clau perqu√® enganxi √©s que sigui:

* **Molt visual** (rellotges grans, feedback immediat, animacions suaus)
* **Ritme r√†pid** (preguntes curtes, sense pantalles "mortes")
* **Progressi√≥ clara** (nivells, barres d'aven√ß, reptes diaris/setmanals opcional)

---

## Modes de joc i nivells

### Mode 1: "Relaciona anal√≤gic ‚Üî digital"

**Objectiu:** veus un rellotge anal√≤gic i tries la resposta correcta en format digital (4 opcions).

**Dificultats possibles (progressi√≥):**

1. **Amb n√∫meros** (1-12) i hores "f√†cils": en punt i mitja.
2. Amb n√∫meros + **quarts** (un quart, dos quarts, tres quarts).
3. Amb n√∫meros + **minuts exactes** (5 en 5).
4. **Sense n√∫meros** per√≤ amb marques (tics de les 12 hores).
5. **Sense marques** (rellotge "net" modern): nom√©s agulles.
6. Distractors m√©s fins: opcions amb minuts "versemblants" (p. ex. 10:25 / 10:30 / 10:35 / 10:20).

> Truc perqu√® sigui just: quan no hi ha marques, limita minuts a **m√∫ltiples de 5** i dona opcions molt plausibles, per√≤ no "cruels".

---

### Mode 2: "Digues l'hora" (anal√≤gic ‚Üí text)

**Objectiu:** veus un rellotge anal√≤gic i respons en **catal√† correcte**.

Aqu√≠ tens dues submodalitats:

#### 2A) Resposta seleccionable (recomanat per comen√ßar)

* En lloc d'escriure, tries entre 4 frases:

  * "Les dues en punt"
  * "Un quart de tres"
  * "Dos quarts de quatre"
  * "Tres quarts de cinc"
* Evites frustraci√≥ ortogr√†fica i mantens ritme.

#### 2B) Resposta escrita (nivell avan√ßat)

* Escrius la frase.
* Necessitar√†s un sistema de validaci√≥ tolerant:

  * Acceptar variants (p. ex. "les 2" no, per√≤ potser "les dues" s√≠).
  * Normalitzar accents/punts (ideal: suggerir la forma correcta si √©s gaireb√© b√©).

**Dificultats ling√º√≠stiques (progressi√≥):**

1. En punt / mitja
2. Quarts
3. Quarts + minuts ("dos quarts i cinc de...")
4. "Menys" (p. ex. "un quart menys cinc")

---

### Mode 3: "Text ‚Üí tria el rellotge" (frase ‚Üí anal√≤gic)

**Objectiu:** llegeixes "dos quarts de quatre" i tries entre 4 rellotges anal√≤gics.

**Dificultats possibles:**

* Rellotges amb n√∫meros ‚Üí sense n√∫meros ‚Üí sense marques
* Distractors amb agulla de minuts molt propera
* Frases amb minuts afegits ("dos quarts i cinc...")

---

## Ordre i dificultat dels nivells

* **Primers nivells:** relacionar rellotge **anal√≤gic ‚Üî digital** amb dificultat creixent.
* **Quan √©s anal√≤gic ‚Üí digital:** es pot complicar retirant **n√∫meros** i despr√©s **marques** del rellotge anal√≤gic.
* **Nivells posteriors:** mode **anal√≤gic ‚Üî text** (o viceversa).
* **Dificultat per a text:** dep√®n de si s√≥n **hores en punt**, si inclouen **quarts** i/o **minuts de 5**.
* **S'inclou la forma "menys"** (ex.: "un quart menys cinc").
* **No incloure franges hor√†ries** (mat√≠/tarda/nit).

### Llista de nivells (L1-L12)

* **L1**: Relaciona anal√≤gic ‚Üí digital, **en punt**, amb n√∫meros i marques.
* **L2**: Relaciona anal√≤gic ‚Üí digital, **en punt + mitja**, amb n√∫meros i marques.
* **L3**: Relaciona anal√≤gic ‚Üí digital, **quarts**, amb n√∫meros i marques.
* **L4**: Relaciona anal√≤gic ‚Üí digital, **minuts de 5**, amb n√∫meros i marques.
* **L5**: Relaciona anal√≤gic ‚Üí digital, **minuts de 5**, **sense n√∫meros** (amb marques).
* **L6**: Relaciona anal√≤gic ‚Üí digital, **minuts de 5**, **sense n√∫meros ni marques**.
* **L7**: Relaciona anal√≤gic ‚Üí text, **en punt + mitja** (resposta seleccionable).
* **L8**: Relaciona anal√≤gic ‚Üí text, **quarts** (resposta seleccionable).
* **L9**: Relaciona anal√≤gic ‚Üí text, **quarts + minuts de 5** (resposta seleccionable).
* **L10**: Relaciona anal√≤gic ‚Üí text, **forma "menys"** (resposta seleccionable).
* **L11**: Relaciona text ‚Üí anal√≤gic, **quarts + minuts de 5** (rellotges amb n√∫meros i marques).
* **L12**: Relaciona text ‚Üí anal√≤gic, **forma "menys"** (rellotges sense n√∫meros o sense marques, segons progr√©s).

---

## Estructura de pantalles

### Pantalla inicial

* Logo/t√≠tol: "Aprenem l'hora"
* Selecci√≥ de perfil:

  * "Continua com: Felip" (si hi ha perfil guardat)
  * "Nou jugador"
* Botons grans: **Jugar**, **Nivells**, **Ins√≠gnies**, **Opcions**

### Pantalla de joc (una sola pantalla)

Recomanaci√≥ de layout (responsive):

* **Cap√ßalera**: nom + nivell + punts + ratxa
* **Zona central**: rellotge (gran)
* **Zona d'opcions**: 4 respostes (botons grans)
* **Feedback**: "Correcte!" / "Ops..." + explicaci√≥ curta
* **Footer fix**: llic√®ncia + cr√®dits (tal com demanes)

---

## Gamificaci√≥ que enganxa

### Moneda principal

* **Punts** per encert (m√©s punts si √©s r√†pid)
* **Ratxa** (streak) d'encerts consecutius
* **Vides** o "errors permesos" per repte (opcional; millor no penalitzar massa als petits)

### Ins√≠gnies (exemples)

* ü•â "Primer encert"
* ü•à "10 encerts seguits"
* ü•á "Domines els quarts"
* ‚è±Ô∏è "R√†pid!" (3 encerts en menys de X segons)
* üéØ "Precisi√≥" (95% d'encert en una sessi√≥)
* üåô "Jugues 3 dies seguits" (si vols h√†bit)

### Progressi√≥ clara

* Cada nivell t√©:

  * % d'encert m√≠nim per "superar"
  * nombre m√≠nim de preguntes (p. ex. 10)
* Un "mapa" de nivells tipus cam√≠ (molt motivador visualment)
* Regla d'ins√≠gnies: per aconseguir-ne una cal encertar 10 preguntes; aquestes 10 es trien a l'atzar d'entre 30 creades per nivell.

---

## Persist√®ncia i perfil de jugador

Persist√®ncia amb **base de dades** (p. ex. Google Sheets o altra) per **carregar partides**, amb suport de **localStorage** com a mem√≤ria local.

Guarda per cada jugador:

* nom
* mode i nivell desbloquejat
* ins√≠gnies aconseguides
* estad√≠stiques (encerts, errors, millor ratxa, temps mitj√†)
* configuraci√≥ (dificultat, so, vibraci√≥, idioma si algun dia hi afegeixes castell√†)
* punt de progr√©s exacte per reprendre la partida

Norma clau:

* L'usuari **comen√ßa sempre al primer nivell** i va desbloquejant nivells i ins√≠gnies.
* En reprendre l'app, **carrega la partida** associada al nom recordat i continua on ho havia deixat.

---

## Planificaci√≥ de JSON: qu√® ha de contenir

Jo ho separaria en 3 JSON (o 3 "objectes" dins d'un sol fitxer), perqu√® sigui net:

### 1) `time_bank.json` (banc d'hores)

Cada entrada descriu **una hora** en m√∫ltiples formats.

Camps recomanats:

* `id` (ex. `"t_1540"`)
* `h` (0-23)
* `m` (0-59)
* `digital24` (ex. `"15:40"`)
* `digital12` (ex. `"3:40"`)
* `period` (no incl√≤s, perqu√® no es fan servir franges hor√†ries)
* `catalan` (forma principal: `"dos quarts de quatre"`, etc.)
* `catalanVariants` (llista d'alternatives acceptables si fas mode d'escriptura)
* `tags` (ex. `["quarts","i_cinc","tarda"]`)
* `difficultyScore` (un n√∫mero per ordenar dificultat)
* `clockRenderHints`:

  * `minuteStep` (1/5/15) segons nivell
  * `angleTolerance` (per nivells sense marques, si vols "ajuda" visual)

### 2) `levels.json` (definici√≥ de nivells)

Per cada nivell:

* `levelId`, `mode` (match / say / textToClock)
* `title`, `description`
* `filters` (quines entrades del banc d'hores es poden usar: per tags o rangs)
* `clockStyle`:

  * `numbers: true/false`
  * `marks: "all" | "hoursOnly" | "none"`
  * `showSecondHand: false`
* `questionType`:

  * opcions (4) o escrit
* `optionsRules` (com generar distractors):

  * minuts +/- 5, +/-10
  * mateixa hora, minut diferent
  * hora ve√Øna (p. ex. 3:40 vs 4:40)
* `winCondition`:

  * `minQuestions`
  * `minAccuracy`
  * `maxMistakes` (opcional)
* `rewards`:

  * punts base
  * ins√≠gnia per completar

### 3) `badges.json` (ins√≠gnies)

Per cada ins√≠gnia:

* `badgeId`
* `name`
* `description`
* `icon` (emoji o ruta d'imatge)
* `condition` (regla: "streak>=10", "levelCompleted: L3", etc.)
* `rarity` (com√∫/rar/√®pic) per fer-ho m√©s "col¬∑leccionable"

---

## Com generar rellotges i opcions de resposta

### Generaci√≥ del rellotge (UI)

* Dibuix amb **SVG** (ideal): agulles rotables amb `transform: rotate()`
* Canvi d'estil (n√∫meros/marques/cap) nom√©s activant/desactivant capes SVG
* Animaci√≥ petita quan encertes (agulles fan "tic" o un halo)

### Generaci√≥ de distractors (molt important)

Regles perqu√® siguin plausibles:

* Mateixa hora, minuts propers: `m¬±5`, `m¬±10`
* Mateix minut, hora ve√Øna: `h¬±1`
* Evitar duplicats i evitar opcions massa absurdes
* Ajustar segons nivell: en nivells f√†cils, distractors m√©s "lluny"; en dif√≠cils, m√©s "a prop".

---

## Disseny visual (colorit i atractiu)

* Est√®tica "cards" amb ombra suau + cantonades arrodonides
* Botons grans, amb estat:

  * normal / hover / seleccionat / correcte / incorrecte
* Barra de progr√©s del nivell
* So "pop" suau + vibraci√≥ curta (m√≤bil) en encert (configurable)
* Mode "nit" opcional (per jugar a casa)

---

## Footer amb llic√®ncia i cr√®dits (tal com demanes)

A la part de baix (fix o dins de la pantalla, per√≤ sempre visible):

* Icona Creative Commons **BY-NC-SA 4.0** (entenc que "By NFSA" vols dir **BY-NC-SA**; si realment √©s una altra, ho podem ajustar)
* A la dreta, dues l√≠nies petites:

  1. "Aplicaci√≥ creada per **Felip Serroca** amb assist√®ncia de la IA"

     * enlla√ß a: `https://ja.cat/FelipSerroca` (tot junt)
  2. "Obra sota llic√®ncia **CC BY-NC-SA 4.0**"

     * enlla√ß a la p√†gina oficial en catal√† de la llic√®ncia (la que correspongui)

---

## Idees extra per fer-la encara millor

1. **Mode entrenament lliure**: tries "nom√©s quarts", "nom√©s en punt", "minuts de 5", etc.
2. **Reptes curts** (30 segons): "quants encerts en 30s?" Ideal per enganxar.
3. **Ajuda progressiva** ("pistes"):

   * Mostrar un puntet a les 12
   * Ressaltar lleugerament les marques (si el nivell √©s sense)
   * Mostrar una guia fantasma nom√©s si falles 2 cops
4. **Estad√≠stiques √∫tils**: "hores que et costen m√©s" i practicar nom√©s aquestes.
5. **Accessibilitat**: mode alt contrast, botons extra grans, lectura en veu (Text-to-Speech) de la pregunta i/o de la soluci√≥.

---

Si vols, el seg√ºent pas l√≤gic √©s que et deixi un **document de disseny** (tipus "mini-GDD") amb:

* llista exacta de nivells (L1-L12),
* criteris de dificultat,
* i un primer esborrany realista de `time_bank.json` (amb molts exemples i tags ben pensats).

I quan ho tinguis validat, ja passarem a muntar l'esquelet HTML/CSS/JS.
